<section class="collection section-padding">
  <div class="collection__header">
    <h1 class="collection__title">{{ collection.title }}</h1>
    {% if collection.description != blank %}
      <p class="collection__description text-muted">{{ collection.description }}</p>
    {% endif %}
    <p class="collection__count text-muted">{{ collection.products_count }} {% if collection.products_count == 1 %}item{% else %}items{% endif %}</p>
  </div>

  {% if collection.products_count > 0 %}
    <div class="collection__grid">
      {% paginate collection.products by 24 %}
        {% for product in collection.products %}
          {% render 'product-card', product: product %}
        {% endfor %}
      {% endpaginate %}
    </div>

    {% paginate collection.products by 24 %}
      {% if paginate.pages > 1 %}
        <nav class="collection__pagination" aria-label="Page navigation">
          {% if paginate.previous %}
            <a href="{{ paginate.previous.url }}" class="btn btn--outline">&larr; Previous</a>
          {% endif %}
          {% if paginate.next %}
            <a href="{{ paginate.next.url }}" class="btn btn--outline">Next &rarr;</a>
          {% endif %}
        </nav>
      {% endif %}
    {% endpaginate %}
  {% else %}
    <p class="collection__empty text-muted text-center">This collection doesn't contain any products yet.</p>
  {% endif %}
</section>

{% stylesheet %}
  .collection__header {
    text-align: center;
    margin-bottom: var(--space-lg);
  }

  .collection__title {
    font-size: var(--text-3xl);
  }

  .collection__description {
    font-size: var(--text-base);
    line-height: 1.6;
    max-width: 60ch;
    margin: var(--space-sm) auto 0;
  }

  .collection__count {
    font-size: var(--text-xs);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-top: var(--space-sm);
  }

  .collection__grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-xs);
  }

  .collection__pagination {
    display: flex;
    justify-content: center;
    gap: var(--space-sm);
    margin-top: var(--space-xl);
  }

  .collection__empty {
    padding: var(--space-xl) 0;
  }

  @media (max-width: 999px) {
    .collection__grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (max-width: 749px) {
    .collection__grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Collection",
  "settings": []
}
{% endschema %}
